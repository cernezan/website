---
import CategoryDate from "../components/CategoryDate.astro";
import { removeMarkdown } from "../utils";
import PageImage from "./PageImage.astro";

export interface Props {
    title?: string;
    postSlug: string;
    description?: string;
    category?: string;
    categoryPath?: string;
    pubDate?: Date;
    image?: string;
    shortText?: boolean;
}

const {
    title,
    postSlug,
    description,
    category,
    categoryPath,
    pubDate,
    image,
    shortText,
} = Astro.props;
---

<article
    class="my-4 rounded-xl border border-neutral-100 bg-neutral-50 p-4 transition-colors delay-75 ease-out hover:cursor-pointer hover:border-neutral-200"
>
    <a class="block" href={postSlug}>
        <PageImage image={image} category={category} />
    </a>

    <CategoryDate
        category={category}
        categoryPath={categoryPath}
        pubDate={pubDate}
    />
    <a class="block" href={postSlug}>
        {title && <h3 class="mb-1 mt-0">{title}</h3>}
        <p class="mb-0 mt-1 opacity-80">
            {removeMarkdown(description || "")}
        </p>
        {!shortText && <div class="mt-1 font-medium">Continue Reading</div>}
    </a>
</article>
